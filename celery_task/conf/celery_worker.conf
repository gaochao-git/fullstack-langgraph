# Supervisor配置文件 - Celery Worker工作进程
# 注意: Celery应用内部日志由celery_app.logger统一管理
# Supervisor只记录进程启动/停止相关日志

[program:celery_worker]
# Celery Worker 工作进程
command=/Users/gaochao/gaochao-git/gaochao_repo/fullstack-langgraph/venv/bin/celery -A celery_app.celery worker --loglevel=info -Q system,priority_high,priority_low,celery --concurrency=4 --purge
directory=/Users/gaochao/gaochao-git/gaochao_repo/fullstack-langgraph/celery_task
user=gaochao
autostart=true
autorestart=true
startsecs=10
stopwaitsecs=60
stopasgroup=true
killasgroup=true

# 日志配置（相对于 directory 的路径）
# Supervisor进程管理日志，不是Celery应用日志
stdout_logfile=logs/supervisor_worker.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=logs/supervisor_worker_error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10