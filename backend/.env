# ============= 服务配置 =============
ENV=development
PORT=8000
HOST=0.0.0.0
WORKERS=1
LOG_LEVEL=INFO
LOG_DIR=./logs

# ============= 大语言M配置 =============
LLM_API_KEY=sk-dldltbdokxccwaqhjvpvjuvznimwztmfvpxpikypeysftktm
LLM_BASE_URL=https://api.siliconflow.cn/v1
LLM_MODEL=Qwen/Qwen3-30B-A3B-Instruct-2507

# ============= 视觉模型配置 =============
# 视觉模型配置
VISION_MODEL_NAME=Pro/Qwen/Qwen2.5-VL-7B-Instruct
VISION_API_BASE_URL=https://api.siliconflow.cn/v1
VISION_API_KEY=sk-dldltbdokxccwaqhjvpvjuvznimwztmfvpxpikypeysftktm


# ============= 语音模型配置 =============
# 语音模型配置
AUDIO_MODEL_NAME=FunAudioLLM/SenseVoiceSmall
AUDIO_API_BASE_URL=https://api.siliconflow.cn/v1
AUDIO_API_KEY=sk-dldltbdokxccwaqhjvpvjuvznimwztmfvpxpikypeysftktm

# ============= 嵌入模型配置 =============
# 嵌入模型配置（兼容 OpenAI 格式的 API）
EMBEDDING_MODEL_NAME=BAAI/bge-large-zh-v1.5
EMBEDDING_API_BASE_URL=https://api.siliconflow.cn/v1
EMBEDDING_API_KEY=sk-dldltbdokxccwaqhjvpvjuvznimwztmfvpxpikypeysftktm

# ============= MCP配置 =============
# 刷新MCP配置
MCP_GATEWAY_URL=http://127.0.0.1:5235
MCP_RELOAD_PID=/Users/gaochao/gaochao-git/gaochao_repo/fullstack-langgraph/mcp_gateway/data/unla_gateway.pid

# ============= 会话管理 =============

# 当总消息量超过模型上下文长度的多少比例时触发压缩（默认 0.8 = 80%）
MULTI_TURN_CONTEXT_THRESHOLD=0.8

# ============= 数据库配置 =============
# LangGraph Checkpointer配置
CHECKPOINTER_TYPE=mysql  
CHECKPOINTER_HOST=82.156.146.51
CHECKPOINTER_PORT=3307
CHECKPOINTER_DB=langgraph_memory
CHECKPOINTER_USER=gaochao
CHECKPOINTER_PASSWORD=fffjjj

# Omind database
DATABASE_TYPE=mysql
DATABASE_HOST=82.156.146.51
DATABASE_PORT=3306
DATABASE_NAME=omind
DATABASE_USER=gaochao
DATABASE_PASSWORD=fffjjj


# ============= JWT认证配置 =============
# JWT认证配置
JWT_SECRET_KEY=Z6TuwhYF9UY0-EVTTAZ3z-RVC2tXSNiMCvLu52egJCY
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=300
REFRESH_TOKEN_EXPIRE_DAYS=7

# 安全配置
SECRET_KEY=7ccRsANlPE-yqUgVSA8tEWtPHar60YtAUaQGg_UUsBo
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# 密码策略配置
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_DIGITS=true
REQUIRE_SPECIAL_CHARS=true

# ============= 文档配置 =============
# 文档目录，包含 templates/ 和 generated/ 子目录
DOCUMENT_DIR=/tmp/documents
MAX_UPLOAD_SIZE_MB=100  # 最大上传文件大小（MB）

# 图片处理并发配置
IMAGE_PROCESS_MAX_CONCURRENT=3  # 图片处理最大并发数
IMAGE_PROCESS_TIMEOUT=30  # 单张图片处理超时时间（秒）

# ============= CAS认证配置 =============
# CAS服务器URL（用于构建登录、登出、验证等端点）
CAS_SERVER_URL=http://localhost:8080/cas/
# CAS协议版本（影响验证接口和返回格式，3支持返回更多用户属性）
CAS_VERSION=3
# 是否验证SSL证书（生产环境建议设为true）
CAS_VERIFY_SSL=false
# CAS会话超时时间（秒）
CAS_SESSION_TIMEOUT=36000
# 是否检查重定向URL的合法性
CAS_CHECK_NEXT=true
# 本应用的服务URL（CAS验证后的回调地址）
CAS_SERVICE_URL=http://localhost:3000/sso/callback
# 是否启用单点登出
CAS_SINGLE_LOGOUT_ENABLED=true

# 报警来源URL
ALARM_API_URL=http://82.156.146.51:8001/api/alarms
NO_PROXY="localhost,127.0.0.1,172.16.0.0/12"


# ============= CELERY任务管理 =============
CELERY_BROKER_URL=redis://:fffjjj@82.156.146.51:6379/10
CELERY_RESULT_BACKEND='db+mysql://gaochao:fffjjj@82.156.146.51:3306/omind'

# ============= 主机资源池服务环境配置 =============
HARDWARE_SERVICE_BASE_URL=http://127.0.0.1:8888
HARDWARE_SERVICE_TOKEN=""
HARDWARE_SERVICE_USERNAME=admin
HARDWARE_SERVICE_PASSWORD=admin123
HARDWARE_SERVICE_LOGIN_ENDPOINT=/api/auth/login
TOKEN_REFRESH_MARGIN=120

# ============= 长期记忆配置 (Mem0) =============
# Mem0 记忆管理配置（复用上面的 LLM_API_KEY 和 LLM_API_URL）
MEM0_ENABLE=false

# 向量模型配置（推荐使用 bge-large-zh-v1.5 中文嵌入模型）
MEM0_EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5
MEM0_EMBEDDING_DIM=1024  # bge-large-zh-v1.5 的维度

# 向量存储配置（使用PostgreSQL + pgvector）
MEM0_VECTOR_DB_TYPE=pgvector
MEM0_VECTOR_DB_HOST=82.156.146.51
MEM0_VECTOR_DB_PORT=5432
MEM0_VECTOR_DB_NAME=omind_memory
MEM0_VECTOR_DB_USER=gaochao
MEM0_VECTOR_DB_PASSWORD=fffjjj
MEM0_VECTOR_DB_TABLE=enterprise_memories

# 记忆配置
MEM0_MEMORY_VERSION=v1.1  # 记忆版本控制
MEM0_SEARCH_LIMIT=10  # 默认搜索返回数量
MEM0_RELEVANCE_THRESHOLD=0.3  # 距离阈值（越小越相似）

# 图存储配置（Neo4j）
# 注意：官方文档用 neo4j+s:// 是加密连接，需要SSL证书
# 我们的Community版Neo4j没有SSL，使用 neo4j:// 非加密连接
NEO4J_ENABLED=true
NEO4J_URL=neo4j://82.156.146.51:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=Neo4jPassword123